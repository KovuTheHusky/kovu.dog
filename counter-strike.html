---
layout: page
title: Counter-Strike
subtitle: "Connection details for servers."
permalink: /counter-strike
---
<div class="container">
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">
        10man
        <span id="status" class="badge badge-danger">Offline</span>
      </h5>
      <p class="card-text align-middle">A server that runs get5 for playing 10man scrimmage matches.</p>
    </div>
    <div class="row">
      <div class="col-sm-6 col-left">
        <ul id="live" class="list-group list-group-flush">
          <li class="list-group-item d-flex justify-content-between">Version<span id="version">Offline</span></li>
          <li class="list-group-item d-flex justify-content-between">Map<span id="map">Offline</span></li>
        </ul>
      </div>
      <div class="col-sm-6 col-right">
        <ul id="live-playerlist" class="list-group list-group-flush">
          <li id="playercount" class="list-group-item d-flex justify-content-between">Players<span id="players">Offline</span></li>
        </ul>
      </div>
    </div>
    <div class="card-body" style="border-top: 1px solid #808080;">
      <a href="steam://connect/40.75.7.193:27015/derp" class="btn btn-primary disabled remote">Connect</a>
      <a href="https://discord.gg/6s92ew7gsy" class="btn btn-link">Discord</a>
    </div>
  </div>
</div>

<script>
  $(document).ready(function() {
    $.ajaxSetup({ cache: false });
  });
</script>

<script>

  var players = [];
  
  function refresh() {
    $.getJSON('https://status.kovuthehusky.com/counter-strike.json', function(data) {
      $('#status').text('Online');
      $('.remote').removeClass('disabled');
      $('#status').addClass('badge-success');
      $('#status').removeClass('badge-danger');
      $('#version').text(data['Info']['Version']);
      $('#map').text(data['Info']['Map']);
      $('#players').text(data['Info']['Players'] + ' / ' + data['Info']['MaxPlayers']);
      var playernames = [];
      $.each(data.Players, function (key, value) {
        if (value.Name !== '') {
          playernames.push(value.Name);
        }
      });
      var join = $(playernames).not(players).get();
      var part = $(players).not(playernames).get();
      $.each(join, function(key, value) {
        $('#live-playerlist').append('<li class="list-group-item d-flex align-items-center justify-content-end player player-' + value + '">' + value + '</li>');
      });
      $.each(part, function(key, value) {
        $('.player-' + value).remove();
      });
      if (data['Info']['Players'] > 0) {
        $('#playercount').css('border-bottom', 'none');
      } else {
        $('#playercount').css('border-bottom', '1px solid rgba(0,0,0,.125)');
      }
      players = playernames;
    }).fail(function() {
      $('#status').text('Offline');
      $('.remote').addClass('disabled');
      $('#status').addClass('badge-danger');
      $('#status').removeClass('badge-success');
      $('#version').text('Offline');
      $('#map').text('Offline');
      $('#players').text('Offline');
      $('.player-').remove();
    });
  }
  
  refresh();
  setInterval(refresh, 1000);
  
  </script>
